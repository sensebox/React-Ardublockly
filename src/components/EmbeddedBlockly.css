/* iPad-specific optimizations for EmbeddedBlockly */

:root {
  --ipad-toolbar-height: 64px;
  --ipad-touch-min-size: 48px;
  --ipad-category-height-1: 52px;
  --ipad-category-height-2: 48px;
  --ipad-category-height-3: 44px;
  --ipad-category-height-4: 40px;
  --ipad-search-height: 36px;
  --ipad-category-margin: 3px;
}

/* Prevent body scroll when in app mode */
body:has(.blockly-app-container) {
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
}

.blockly-app-container {
  height: 100vh;
  height: 100dvh; /* Better iPad support */
  width: 100vw;
  overflow: hidden;
  position: relative;
}

/* iPad touch optimizations - no phone-specific media queries needed */
.blockly-app-container * {
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
  -webkit-user-select: none;
  user-select: none;
}

/* Ensure Blockly workspace takes full available space */
.blockly-app-container .blocklyDiv {
  height: 100% !important;
  width: 100% !important;
}

/* Ensure BlocklyWindow container takes remaining space after toolbar */
.blockly-app-container > div > div:last-child {
  height: 100%;
  overflow: hidden;
}

/* iPad-specific toolbar */
.blockly-app-container .workspaceFunc {
  height: var(--ipad-toolbar-height);
  flex-shrink: 0;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding: 0 16px;
}

/* Optimize for notched devices (iPad Pro) */
@supports (padding: max(0px)) {
  .blockly-app-container {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* iPad touch optimizations */
.blocklyDraggable {
  cursor: grab;
}

.blocklyDraggable:active {
  cursor: grabbing;
}

/* Prevent overscroll/bounce on iPad */
.blocklyMainBackground {
  touch-action: none;
}
